<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../images/favicon.png">
    <title>Tax Calculator - No On The Library Tax - Save El Cerrito</title>
    <meta name="description" content="Calculate what you'll pay with the El Cerrito Library Tax measure.">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Open+Sans:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/tax-calculator.css">
</head>

<body>
    <nav>
        <div class="logo">No On Another Forever Tax</div>
        <div class="nav-links">
            <span class="nav-link-underline" id="nav-link-underline" aria-hidden="true"></span>
            <a href="../home/">Home</a>
            <a href="../volunteer/">Volunteer</a>
            <a href="index.html" class="current">Tax Calculator</a>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe-cdzUDl_bBwL6cJShUSnW3Vi0KNpHAPiv_LOApdbYyd2Vbw/viewform?usp=header" target="_blank">Yard Signs</a>
            <a href="https://buy.stripe.com/7sYcN58OwbnRgc6eqX5Vu02" class="nav-btn" target="_blank">Donate</a>
        </div>
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="overlay" id="overlay"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-close" id="sidebar-close">Ã—</div>
        <div class="nav-links">
            <a href="../home/">Home</a>
            <a href="../volunteer/">Volunteer</a>
            <a href="index.html" class="current">Tax Calculator</a>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe-cdzUDl_bBwL6cJShUSnW3Vi0KNpHAPiv_LOApdbYyd2Vbw/viewform?usp=header" target="_blank">Yard Signs</a>
            <a href="https://buy.stripe.com/7sYcN58OwbnRgc6eqX5Vu02" class="nav-btn" target="_blank">Donate</a>
        </div>
    </div>

    <section class="calculator-section">
        <div class="calculator-container">
            <h1>TOD Library Tax Calculator</h1>
            <p class="subtitle">See what you will pay, in comparison to Measure T and Measure H</p>

            <div class="calculator-card">
                <div class="input-section">
                    <div class="input-group">
                        <label for="propertySize">Building Size on property</label>
                        <div class="input-wrapper">
                            <input type="number" id="propertySize" value="1500" min="100" max="10000">
                            <span class="unit">sq ft</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="taxRate">Tax Rate</label>
                        <div class="input-wrapper">
                            <input type="number" id="taxRate" value="0.17" step="0.01" min="0.01" max="1">
                            <span class="unit">$/sq ft</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="inflationRate">Base Inflation Rate</label>
                        <div class="input-wrapper">
                            <input type="number" id="inflationRate" value="2.5" step="0.1" min="0" max="10">
                            <span class="unit">%</span>
                        </div>
                    </div>
                </div>

                <div class="results-grid">
                    <div class="result-item">
                        <div class="result-label">Current Year </div>
                        <div class="result-value" id="currentTax">$255</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">5-Year Total </div>
                        <div class="result-value" id="fiveYearTotal">$1,335</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">10-Year Total </div>
                        <div class="result-value" id="tenYearTotal">$2,876</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">20-Year Total </div>
                        <div class="result-value" id="twentyYearTotal">$6,542</div>
                    </div>
                </div>
                <div style="text-align: center; font-size: 0.85rem; color: #666; margin-top: -10px;">
                    * These totals are the TOD tax only, it does not include any other property based taxes.
                </div>

                <div>
                    <h2 class="chart-title" id="taxChartTitle">Property Tax Components Over Time</h2>
                    <div class="chart-container">
                        <canvas id="taxChart"></canvas>
                    </div>
                    <div
                        style="background: var(--section-bg); border-radius: 4px; padding: 15px; margin-top: 20px; border: 1px solid #ddd;">
                        <div
                            style="font-family: 'Oswald', sans-serif; font-weight: 700; color: var(--text-dark); margin-bottom: 10px; font-size: 0.9rem; text-transform: uppercase;">
                            Notes:</div>
                        <div
                            style="display: flex; flex-direction: column; gap: 8px; color: #444; font-size: 0.9rem; font-family: 'Open Sans', sans-serif;">
                            <div style="display: flex; align-items: start; gap: 8px;">
                                <div
                                    style="width: 20px; height: 3px; background: #10b981; border-radius: 2px; margin-top: 6px;">
                                </div>
                                <span><strong>Measure T (WCCUSD):</strong> $0.072 per square foot - Fixed rate that
                                    funds school programs, libraries, athletics, and counseling. Does not adjust for
                                    inflation. Expires 2027 unless renewed.</span>
                            </div>
                            <div style="display: flex; align-items: start; gap: 8px;">
                                <div
                                    style="width: 20px; height: 3px; background: #8b5cf6; border-radius: 2px; margin-top: 6px;">
                                </div>
                                <span><strong>Measure H (Parks):</strong> $58.46 per year - Fixed annual amount for swim
                                    center, Canyon Trail Clubhouse, and park restrooms. Does not adjust for inflation.
                                    Extended through 2030.</span>
                            </div>
                            <div style="display: flex; align-items: start; gap: 8px;">
                                <div
                                    style="width: 20px; height: 3px; background: rgba(220, 38, 38, 0.3); border-radius: 2px; margin-top: 6px;">
                                </div>
                                <span><strong>Faded dashed lines:</strong> Show potential scenarios if TOD parcel tax
                                    inflation exceeds the assumed rate by 0.5% or 1.5%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calculator-card">
                <h2 class="chart-title" id="revenueChartTitle">City-Wide Cumulative Tax Revenue by Source</h2>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
                <div
                    style="text-align: center; color: #444; font-size: 0.9rem; margin-top: 10px; font-family: 'Open Sans', sans-serif;">
                    Based on 8,500 households with average 1,250 sq ft properties
                    <div style="margin-top: 5px; font-size: 0.85rem;">
                        Annual parcel taxes: Measure T (~$990K/year) + Measure H (~$643K/year)
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="../js/tax-calculator.js"></script>

    <script>
        // Hamburger menu toggle
        const hamburger = document.getElementById('hamburger');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');

        function toggleMenu() {
            hamburger.classList.toggle('active');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
            document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : '';
        }

        hamburger.addEventListener('click', toggleMenu);
        overlay.addEventListener('click', toggleMenu);

        // Close sidebar when clicking close button
        const sidebarClose = document.getElementById('sidebar-close');
        if (sidebarClose) {
            sidebarClose.addEventListener('click', toggleMenu);
        }

        // Close sidebar when clicking on links
        const sidebarLinks = sidebar.querySelectorAll('a');
        sidebarLinks.forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        });
    </script>

    <!-- FOOTER -->

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-campaign-name">No On Another Forever Tax</div>
            <div class="footer-paid-for">Paid for by Neighbors For a Better El Cerrito</div>
            <div class="footer-info">
                <span>FPPC #1485677</span>
                <span>|</span>
                <a href="mailto:NoOnAnotherForeverTax@gmail.com">NoOnAnotherForeverTax@gmail.com</a>
            </div>
        </div>
    </footer>
</body>

</html>
